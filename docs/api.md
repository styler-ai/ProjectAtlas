# ProjectAtlas API

This document is generated by `scripts/generate_api_docs.py`.

## `__init__.py`

Purpose: Define the ProjectAtlas package metadata.

## `__main__.py`

Purpose: Allow `python -m projectatlas` to run the CLI.

## `atlas.py`

Purpose: Scan repositories and build ProjectAtlas record entries.

### Function `is_excluded_rel_path`

Check whether a relative path should be excluded.

### Function `file_extension`

Return a normalized file extension, handling .d.ts specially.

### Function `is_source_file`

Check whether a file should be scanned for Purpose headers.

### Function `iter_repo_paths`

Walk the repo and return tracked folders and source files.

### Function `iter_repo_paths_with_untracked`

Walk the repo and return tracked and untracked paths.

### Function `normalize_summary`

Normalize a Purpose summary to a single spaced line.

### Function `summarize_extensions`

Summarize extensions for a sequence of file paths.

### Function `is_under_prefix`

Check whether a path is under any of the provided prefixes.

### Function `is_allowed_untracked`

Check whether an untracked path is allowed by policy.

### Function `is_asset_file`

Check whether a file is considered an asset.

### Function `list_existing_asset_roots`

List asset root prefixes that exist in the repo.

### Function `strip_line_comment_prefix`

Remove the first matching line-comment prefix and trim whitespace.

### Function `extract_purpose_from_lines`

Extract the Purpose summary from a sequence of lines.

### Function `extract_javadoc_purpose`

Extract Purpose from a Javadoc-style header block.

### Function `extract_block_comment_purpose`

Extract Purpose from a block comment header.

### Function `extract_python_docstring_purpose`

Extract Purpose from a Python module docstring.

### Function `extract_vue_purpose`

Extract Purpose from the first Vue <script> or <style> block.

### Function `extract_line_comment_purpose`

Extract Purpose from a line-comment header block.

### Function `resolve_purpose_style`

Resolve the Purpose style for a file extension.

### Function `extract_purpose_header`

Extract the Purpose summary for a file by type.

### Function `validate_summary`

Validate a Purpose summary against map rules.

### Function `build_file_records`

Build file records and error lists for Purpose headers.

### Function `read_nonsource_file_entries`

Read non-source file list entries for files without headers.

### Function `merge_nonsource_file_records`

Merge non-source file records into the auto-discovered list.

### Function `read_folder_purpose`

Read a folder Purpose summary from a .purpose file.

### Function `build_folder_records`

Build folder records from per-folder .purpose files.

### Function `build_folder_tree_with_summaries`

Build a stable tree snapshot with folder summaries.

### Function `build_summary_duplicates`

Find duplicate summaries across records.

### Function `compute_file_hash`

Compute the file list hash for the map output.

### Function `compute_folder_hash`

Compute the folder list hash for the map output.

### Function `compute_overview`

Compute overview counts for the map header.

### Function `format_overview`

Format the overview mapping for the map header.

### Function `read_overview`

Read the overview line from the map file.

### Function `read_map_hashes`

Read file and folder hashes from the current map file.

### Function `format_list`

Format items as a newline-separated bullet list.

## `cli.py`

Purpose: Provide the ProjectAtlas command-line entry points.

### Function `is_truthy_env`

Check whether an environment value is truthy.

### Function `build_snapshot`

Build an AtlasSnapshot for the current repository.

### Function `seed_purpose_files`

Create missing .purpose files for tracked folders.

### Function `write_default_files`

Write default configuration and non-source file template.

### Function `run_map`

Generate and write the ProjectAtlas map.

### Function `run_lint`

Validate the ProjectAtlas map against current repo state.

### Function `parse_args`

Parse CLI arguments.

### Function `main`

Run the ProjectAtlas CLI.

## `config.py`

Purpose: Load and normalize ProjectAtlas configuration from TOML.

### Class `ConfigError`

Signal an invalid ProjectAtlas configuration.

### Class `AtlasConfig`

Define the normalized configuration for ProjectAtlas.

### Function `find_config_path`

Locate the first ProjectAtlas config file under the root.

### Function `_as_set`

_No docstring provided._

### Function `_as_list`

_No docstring provided._

### Function `_as_map`

_No docstring provided._

### Function `_as_path`

_No docstring provided._

### Function `load_config`

Load ProjectAtlas configuration from TOML (or defaults).

### Function `default_config_text`

Return a default config.toml payload.

## `models.py`

Purpose: Define data models used across ProjectAtlas.

### Class `Record`

Represent a ProjectAtlas record entry.

### Class `AtlasSnapshot`

Capture the full ProjectAtlas snapshot to write.

## `output.py`

Purpose: Write ProjectAtlas snapshots to TOON or JSON outputs.

### Function `to_toon`

Serialize the snapshot to TOON.

### Function `write_toon`

Write the snapshot to the configured TOON path.

### Function `write_json`

Write the snapshot to a JSON file next to the TOON output.
